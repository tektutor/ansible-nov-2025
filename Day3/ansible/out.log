
PLAY [This playbook will install nginx web server, configures it to use custom web root folder and deploys custom web page] ***

TASK [Gathering Facts] *********************************************************
ok: [rocky1]
ok: [rocky2]
ok: [ubuntu1]
ok: [ubuntu2]

TASK [Install nginx web server in ansible Ubuntu nodes] ************************
skipping: [rocky1]
skipping: [rocky2]
ok: [ubuntu1]
ok: [ubuntu2]

TASK [Install nginx web server in ansible Rocky nodes] *************************
skipping: [ubuntu1]
skipping: [ubuntu2]
ok: [rocky2]
ok: [rocky1]

TASK [Start nginx web server in ansible Ubuntu nodes] **************************
skipping: [rocky1]
skipping: [rocky2]
ok: [ubuntu2]
ok: [ubuntu1]

TASK [Check if nginx web server is already running] ****************************
skipping: [ubuntu1]
skipping: [ubuntu2]
changed: [rocky2]
changed: [rocky1]

TASK [debug] *******************************************************************
ok: [ubuntu1] => {
    "output": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
ok: [ubuntu2] => {
    "output": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
ok: [rocky1] => {
    "output": {
        "changed": true,
        "cmd": "curl localhost",
        "delta": "0:00:00.004914",
        "end": "2025-11-26 10:17:57.243613",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2025-11-26 10:17:57.238699",
        "stderr": "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100  7620  100  7620    0     0  7441k      0 --:--:-- --:--:-- --:--:-- 7441k",
        "stderr_lines": [
            "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current",
            "                                 Dload  Upload   Total   Spent    Left  Speed",
            "",
            "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0",
            "100  7620  100  7620    0     0  7441k      0 --:--:-- --:--:-- --:--:-- 7441k"
        ],
        "stdout": "<!doctype html>\n<html>\n  <head>\n    <meta charset='utf-8'>\n    <meta name='viewport' content='width=device-width, initial-scale=1'>\n    <title>HTTP Server Test Page powered by: Rocky Linux</title>\n    <style type=\"text/css\">\n      /*<![CDATA[*/\n      \n      html {\n        height: 100%;\n        width: 100%;\n      }  \n        body {\n  background: rgb(20,72,50);\n  background: -moz-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%)  ;\n  background: -webkit-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%) ;\n  background: linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%);\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#3c6eb4\",endColorstr=\"#3c95b4\",GradientType=1); \n        color: white;\n        font-size: 0.9em;\n        font-weight: 400;\n        font-family: 'Montserrat', sans-serif;\n        margin: 0;\n        padding: 10em 6em 10em 6em;\n        box-sizing: border-box;      \n        \n      }\n\n   \n  h1 {\n    text-align: center;\n    margin: 0;\n    padding: 0.6em 2em 0.4em;\n    color: #fff;\n    font-weight: bold;\n    font-family: 'Montserrat', sans-serif;\n    font-size: 2em;\n  }\n  h1 strong {\n    font-weight: bolder;\n    font-family: 'Montserrat', sans-serif;\n  }\n  h2 {\n    font-size: 1.5em;\n    font-weight:bold;\n  }\n  \n  .title {\n    border: 1px solid black;\n    font-weight: bold;\n    position: relative;\n    float: right;\n    width: 150px;\n    text-align: center;\n    padding: 10px 0 10px 0;\n    margin-top: 0;\n  }\n  \n  .description {\n    padding: 45px 10px 5px 10px;\n    clear: right;\n    padding: 15px;\n  }\n  \n  .section {\n    padding-left: 3%;\n   margin-bottom: 10px;\n  }\n  \n  img {\n  \n    padding: 2px;\n    margin: 2px;\n  }\n  a:hover img {\n    padding: 2px;\n    margin: 2px;\n  }\n\n  :link {\n    color: rgb(199, 252, 77);\n    text-shadow:\n  }\n  :visited {\n    color: rgb(122, 206, 255);\n  }\n  a:hover {\n    color: rgb(16, 44, 122);\n  }\n  .row {\n    width: 100%;\n    padding: 0 10px 0 10px;\n  }\n  \n  footer {\n    padding-top: 6em;\n    margin-bottom: 6em;\n    text-align: center;\n    font-size: xx-small;\n    overflow:hidden;\n    clear: both;\n  }\n \n  .summary {\n    font-size: 140%;\n    text-align: center;\n  }\n\n  #rocky-poweredby img {\n    margin-left: -10px;\n  }\n\n  #logos img {\n    vertical-align: top;\n  }\n  \n  /* Desktop  View Options */\n \n  @media (min-width: 768px)  {\n  \n    body {\n      padding: 10em 20% !important;\n    }\n    \n    .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6,\n    .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {\n      float: left;\n    }\n  \n    .col-md-1 {\n      width: 8.33%;\n    }\n    .col-md-2 {\n      width: 16.66%;\n    }\n    .col-md-3 {\n      width: 25%;\n    }\n    .col-md-4 {\n      width: 33%;\n    }\n    .col-md-5 {\n      width: 41.66%;\n    }\n    .col-md-6 {\n      border-left:3px ;\n      width: 50%;\n      \n\n    }\n    .col-md-7 {\n      width: 58.33%;\n    }\n    .col-md-8 {\n      width: 66.66%;\n    }\n    .col-md-9 {\n      width: 74.99%;\n    }\n    .col-md-10 {\n      width: 83.33%;\n    }\n    .col-md-11 {\n      width: 91.66%;\n    }\n    .col-md-12 {\n      width: 100%;\n    }\n  }\n  \n  /* Mobile View Options */\n  @media (max-width: 767px) {\n    .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n    .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n      float: left;\n    }\n  \n    .col-sm-1 {\n      width: 8.33%;\n    }\n    .col-sm-2 {\n      width: 16.66%;\n    }\n    .col-sm-3 {\n      width: 25%;\n    }\n    .col-sm-4 {\n      width: 33%;\n    }\n    .col-sm-5 {\n      width: 41.66%;\n    }\n    .col-sm-6 {\n      width: 50%;\n    }\n    .col-sm-7 {\n      width: 58.33%;\n    }\n    .col-sm-8 {\n      width: 66.66%;\n    }\n    .col-sm-9 {\n      width: 74.99%;\n    }\n    .col-sm-10 {\n      width: 83.33%;\n    }\n    .col-sm-11 {\n      width: 91.66%;\n    }\n    .col-sm-12 {\n      width: 100%;\n    }\n    h1 {\n      padding: 0 !important;\n    }\n  }\n        \n  \n  </style>\n  </head>\n  <body>\n    <h1>HTTP Server <strong>Test Page</strong></h1>\n\n    <div class='row'>\n    \n      <div class='col-sm-12 col-md-6 col-md-6 '></div>\n          <p class=\"summary\">This page is used to test the proper operation of\n            an HTTP server after it has been installed on a Rocky Linux system.\n            If you can read this page, it means that the software is working\n            correctly.</p>\n      </div>\n      \n      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>\n     \n       \n        <div class='section'>\n          <h2>Just visiting?</h2>\n\n          <p>This website you are visiting is either experiencing problems or\n          could be going through maintenance.</p>\n\n          <p>If you would like the let the administrators of this website know\n          that you've seen this page instead of the page you've expected, you\n          should send them an email. In general, mail sent to the name\n          \"webmaster\" and directed to the website's domain should reach the\n          appropriate person.</p>\n\n          <p>The most common email address to send to is:\n          <strong>\"webmaster@example.com\"</strong></p>\n    \n          <h2>Note:</h2>\n          <p>The Rocky Linux distribution is a stable and reproduceable platform\n          based on the sources of Red Hat Enterprise Linux (RHEL). With this in\n          mind, please understand that:\n\n        <ul>\n          <li>Neither the <strong>Rocky Linux Project</strong> nor the\n          <strong>Rocky Enterprise Software Foundation</strong> have anything to\n          do with this website or its content.</li>\n          <li>The Rocky Linux Project nor the <strong>RESF</strong> have\n          \"hacked\" this webserver: This test page is included with the\n          distribution.</li>\n        </ul>\n        <p>For more information about Rocky Linux, please visit the\n          <a href=\"https://rockylinux.org/\"><strong>Rocky Linux\n          website</strong></a>.\n        </p>\n        </div>\n      </div>\n      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>\n        <div class='section'>\n         \n          <h2>I am the admin, what do I do?</h2>\n\n        <p>You may now add content to the webroot directory for your\n        software.</p>\n\n        <p><strong>For systems using the\n        <a href=\"https://httpd.apache.org/\">Apache Webserver</strong></a>:\n        You can add content to the directory <code>/var/www/html/</code>.\n        Until you do so, people visiting your website will see this page. If\n        you would like this page to not be shown, follow the instructions in:\n        <code>/etc/httpd/conf.d/welcome.conf</code>.</p>\n\n        <p><strong>For systems using\n        <a href=\"https://nginx.org\">Nginx</strong></a>:\n        You can add your content in a location of your\n        choice and edit the <code>root</code> configuration directive\n        in <code>/etc/nginx/nginx.conf</code>.</p>\n        \n        <div id=\"logos\">\n          <a href=\"https://rockylinux.org/\" id=\"rocky-poweredby\"><img src=\"icons/poweredby.png\" alt=\"[ Powered by Rocky Linux ]\" /></a> <!-- Rocky -->\n          <img src=\"poweredby.png\" /> <!-- webserver -->\n        </div>       \n      </div>\n      </div>\n      \n      <footer class=\"col-sm-12\">\n      <a href=\"https://apache.org\">Apache&trade;</a> is a registered trademark of <a href=\"https://apache.org\">the Apache Software Foundation</a> in the United States and/or other countries.<br />\n      <a href=\"https://nginx.org\">NGINX&trade;</a> is a registered trademark of <a href=\"https://\">F5 Networks, Inc.</a>.\n      </footer>\n      \n  </body>\n</html>",
        "stdout_lines": [
            "<!doctype html>",
            "<html>",
            "  <head>",
            "    <meta charset='utf-8'>",
            "    <meta name='viewport' content='width=device-width, initial-scale=1'>",
            "    <title>HTTP Server Test Page powered by: Rocky Linux</title>",
            "    <style type=\"text/css\">",
            "      /*<![CDATA[*/",
            "      ",
            "      html {",
            "        height: 100%;",
            "        width: 100%;",
            "      }  ",
            "        body {",
            "  background: rgb(20,72,50);",
            "  background: -moz-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%)  ;",
            "  background: -webkit-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%) ;",
            "  background: linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%);",
            "  background-repeat: no-repeat;",
            "  background-attachment: fixed;",
            "  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#3c6eb4\",endColorstr=\"#3c95b4\",GradientType=1); ",
            "        color: white;",
            "        font-size: 0.9em;",
            "        font-weight: 400;",
            "        font-family: 'Montserrat', sans-serif;",
            "        margin: 0;",
            "        padding: 10em 6em 10em 6em;",
            "        box-sizing: border-box;      ",
            "        ",
            "      }",
            "",
            "   ",
            "  h1 {",
            "    text-align: center;",
            "    margin: 0;",
            "    padding: 0.6em 2em 0.4em;",
            "    color: #fff;",
            "    font-weight: bold;",
            "    font-family: 'Montserrat', sans-serif;",
            "    font-size: 2em;",
            "  }",
            "  h1 strong {",
            "    font-weight: bolder;",
            "    font-family: 'Montserrat', sans-serif;",
            "  }",
            "  h2 {",
            "    font-size: 1.5em;",
            "    font-weight:bold;",
            "  }",
            "  ",
            "  .title {",
            "    border: 1px solid black;",
            "    font-weight: bold;",
            "    position: relative;",
            "    float: right;",
            "    width: 150px;",
            "    text-align: center;",
            "    padding: 10px 0 10px 0;",
            "    margin-top: 0;",
            "  }",
            "  ",
            "  .description {",
            "    padding: 45px 10px 5px 10px;",
            "    clear: right;",
            "    padding: 15px;",
            "  }",
            "  ",
            "  .section {",
            "    padding-left: 3%;",
            "   margin-bottom: 10px;",
            "  }",
            "  ",
            "  img {",
            "  ",
            "    padding: 2px;",
            "    margin: 2px;",
            "  }",
            "  a:hover img {",
            "    padding: 2px;",
            "    margin: 2px;",
            "  }",
            "",
            "  :link {",
            "    color: rgb(199, 252, 77);",
            "    text-shadow:",
            "  }",
            "  :visited {",
            "    color: rgb(122, 206, 255);",
            "  }",
            "  a:hover {",
            "    color: rgb(16, 44, 122);",
            "  }",
            "  .row {",
            "    width: 100%;",
            "    padding: 0 10px 0 10px;",
            "  }",
            "  ",
            "  footer {",
            "    padding-top: 6em;",
            "    margin-bottom: 6em;",
            "    text-align: center;",
            "    font-size: xx-small;",
            "    overflow:hidden;",
            "    clear: both;",
            "  }",
            " ",
            "  .summary {",
            "    font-size: 140%;",
            "    text-align: center;",
            "  }",
            "",
            "  #rocky-poweredby img {",
            "    margin-left: -10px;",
            "  }",
            "",
            "  #logos img {",
            "    vertical-align: top;",
            "  }",
            "  ",
            "  /* Desktop  View Options */",
            " ",
            "  @media (min-width: 768px)  {",
            "  ",
            "    body {",
            "      padding: 10em 20% !important;",
            "    }",
            "    ",
            "    .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6,",
            "    .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {",
            "      float: left;",
            "    }",
            "  ",
            "    .col-md-1 {",
            "      width: 8.33%;",
            "    }",
            "    .col-md-2 {",
            "      width: 16.66%;",
            "    }",
            "    .col-md-3 {",
            "      width: 25%;",
            "    }",
            "    .col-md-4 {",
            "      width: 33%;",
            "    }",
            "    .col-md-5 {",
            "      width: 41.66%;",
            "    }",
            "    .col-md-6 {",
            "      border-left:3px ;",
            "      width: 50%;",
            "      ",
            "",
            "    }",
            "    .col-md-7 {",
            "      width: 58.33%;",
            "    }",
            "    .col-md-8 {",
            "      width: 66.66%;",
            "    }",
            "    .col-md-9 {",
            "      width: 74.99%;",
            "    }",
            "    .col-md-10 {",
            "      width: 83.33%;",
            "    }",
            "    .col-md-11 {",
            "      width: 91.66%;",
            "    }",
            "    .col-md-12 {",
            "      width: 100%;",
            "    }",
            "  }",
            "  ",
            "  /* Mobile View Options */",
            "  @media (max-width: 767px) {",
            "    .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,",
            "    .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {",
            "      float: left;",
            "    }",
            "  ",
            "    .col-sm-1 {",
            "      width: 8.33%;",
            "    }",
            "    .col-sm-2 {",
            "      width: 16.66%;",
            "    }",
            "    .col-sm-3 {",
            "      width: 25%;",
            "    }",
            "    .col-sm-4 {",
            "      width: 33%;",
            "    }",
            "    .col-sm-5 {",
            "      width: 41.66%;",
            "    }",
            "    .col-sm-6 {",
            "      width: 50%;",
            "    }",
            "    .col-sm-7 {",
            "      width: 58.33%;",
            "    }",
            "    .col-sm-8 {",
            "      width: 66.66%;",
            "    }",
            "    .col-sm-9 {",
            "      width: 74.99%;",
            "    }",
            "    .col-sm-10 {",
            "      width: 83.33%;",
            "    }",
            "    .col-sm-11 {",
            "      width: 91.66%;",
            "    }",
            "    .col-sm-12 {",
            "      width: 100%;",
            "    }",
            "    h1 {",
            "      padding: 0 !important;",
            "    }",
            "  }",
            "        ",
            "  ",
            "  </style>",
            "  </head>",
            "  <body>",
            "    <h1>HTTP Server <strong>Test Page</strong></h1>",
            "",
            "    <div class='row'>",
            "    ",
            "      <div class='col-sm-12 col-md-6 col-md-6 '></div>",
            "          <p class=\"summary\">This page is used to test the proper operation of",
            "            an HTTP server after it has been installed on a Rocky Linux system.",
            "            If you can read this page, it means that the software is working",
            "            correctly.</p>",
            "      </div>",
            "      ",
            "      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>",
            "     ",
            "       ",
            "        <div class='section'>",
            "          <h2>Just visiting?</h2>",
            "",
            "          <p>This website you are visiting is either experiencing problems or",
            "          could be going through maintenance.</p>",
            "",
            "          <p>If you would like the let the administrators of this website know",
            "          that you've seen this page instead of the page you've expected, you",
            "          should send them an email. In general, mail sent to the name",
            "          \"webmaster\" and directed to the website's domain should reach the",
            "          appropriate person.</p>",
            "",
            "          <p>The most common email address to send to is:",
            "          <strong>\"webmaster@example.com\"</strong></p>",
            "    ",
            "          <h2>Note:</h2>",
            "          <p>The Rocky Linux distribution is a stable and reproduceable platform",
            "          based on the sources of Red Hat Enterprise Linux (RHEL). With this in",
            "          mind, please understand that:",
            "",
            "        <ul>",
            "          <li>Neither the <strong>Rocky Linux Project</strong> nor the",
            "          <strong>Rocky Enterprise Software Foundation</strong> have anything to",
            "          do with this website or its content.</li>",
            "          <li>The Rocky Linux Project nor the <strong>RESF</strong> have",
            "          \"hacked\" this webserver: This test page is included with the",
            "          distribution.</li>",
            "        </ul>",
            "        <p>For more information about Rocky Linux, please visit the",
            "          <a href=\"https://rockylinux.org/\"><strong>Rocky Linux",
            "          website</strong></a>.",
            "        </p>",
            "        </div>",
            "      </div>",
            "      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>",
            "        <div class='section'>",
            "         ",
            "          <h2>I am the admin, what do I do?</h2>",
            "",
            "        <p>You may now add content to the webroot directory for your",
            "        software.</p>",
            "",
            "        <p><strong>For systems using the",
            "        <a href=\"https://httpd.apache.org/\">Apache Webserver</strong></a>:",
            "        You can add content to the directory <code>/var/www/html/</code>.",
            "        Until you do so, people visiting your website will see this page. If",
            "        you would like this page to not be shown, follow the instructions in:",
            "        <code>/etc/httpd/conf.d/welcome.conf</code>.</p>",
            "",
            "        <p><strong>For systems using",
            "        <a href=\"https://nginx.org\">Nginx</strong></a>:",
            "        You can add your content in a location of your",
            "        choice and edit the <code>root</code> configuration directive",
            "        in <code>/etc/nginx/nginx.conf</code>.</p>",
            "        ",
            "        <div id=\"logos\">",
            "          <a href=\"https://rockylinux.org/\" id=\"rocky-poweredby\"><img src=\"icons/poweredby.png\" alt=\"[ Powered by Rocky Linux ]\" /></a> <!-- Rocky -->",
            "          <img src=\"poweredby.png\" /> <!-- webserver -->",
            "        </div>       ",
            "      </div>",
            "      </div>",
            "      ",
            "      <footer class=\"col-sm-12\">",
            "      <a href=\"https://apache.org\">Apache&trade;</a> is a registered trademark of <a href=\"https://apache.org\">the Apache Software Foundation</a> in the United States and/or other countries.<br />",
            "      <a href=\"https://nginx.org\">NGINX&trade;</a> is a registered trademark of <a href=\"https://\">F5 Networks, Inc.</a>.",
            "      </footer>",
            "      ",
            "  </body>",
            "</html>"
        ]
    }
}
ok: [rocky2] => {
    "output": {
        "changed": true,
        "cmd": "curl localhost",
        "delta": "0:00:00.004604",
        "end": "2025-11-26 10:17:57.243388",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2025-11-26 10:17:57.238784",
        "stderr": "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100  7620  100  7620    0     0  7441k      0 --:--:-- --:--:-- --:--:-- 7441k",
        "stderr_lines": [
            "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current",
            "                                 Dload  Upload   Total   Spent    Left  Speed",
            "",
            "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0",
            "100  7620  100  7620    0     0  7441k      0 --:--:-- --:--:-- --:--:-- 7441k"
        ],
        "stdout": "<!doctype html>\n<html>\n  <head>\n    <meta charset='utf-8'>\n    <meta name='viewport' content='width=device-width, initial-scale=1'>\n    <title>HTTP Server Test Page powered by: Rocky Linux</title>\n    <style type=\"text/css\">\n      /*<![CDATA[*/\n      \n      html {\n        height: 100%;\n        width: 100%;\n      }  \n        body {\n  background: rgb(20,72,50);\n  background: -moz-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%)  ;\n  background: -webkit-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%) ;\n  background: linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%);\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#3c6eb4\",endColorstr=\"#3c95b4\",GradientType=1); \n        color: white;\n        font-size: 0.9em;\n        font-weight: 400;\n        font-family: 'Montserrat', sans-serif;\n        margin: 0;\n        padding: 10em 6em 10em 6em;\n        box-sizing: border-box;      \n        \n      }\n\n   \n  h1 {\n    text-align: center;\n    margin: 0;\n    padding: 0.6em 2em 0.4em;\n    color: #fff;\n    font-weight: bold;\n    font-family: 'Montserrat', sans-serif;\n    font-size: 2em;\n  }\n  h1 strong {\n    font-weight: bolder;\n    font-family: 'Montserrat', sans-serif;\n  }\n  h2 {\n    font-size: 1.5em;\n    font-weight:bold;\n  }\n  \n  .title {\n    border: 1px solid black;\n    font-weight: bold;\n    position: relative;\n    float: right;\n    width: 150px;\n    text-align: center;\n    padding: 10px 0 10px 0;\n    margin-top: 0;\n  }\n  \n  .description {\n    padding: 45px 10px 5px 10px;\n    clear: right;\n    padding: 15px;\n  }\n  \n  .section {\n    padding-left: 3%;\n   margin-bottom: 10px;\n  }\n  \n  img {\n  \n    padding: 2px;\n    margin: 2px;\n  }\n  a:hover img {\n    padding: 2px;\n    margin: 2px;\n  }\n\n  :link {\n    color: rgb(199, 252, 77);\n    text-shadow:\n  }\n  :visited {\n    color: rgb(122, 206, 255);\n  }\n  a:hover {\n    color: rgb(16, 44, 122);\n  }\n  .row {\n    width: 100%;\n    padding: 0 10px 0 10px;\n  }\n  \n  footer {\n    padding-top: 6em;\n    margin-bottom: 6em;\n    text-align: center;\n    font-size: xx-small;\n    overflow:hidden;\n    clear: both;\n  }\n \n  .summary {\n    font-size: 140%;\n    text-align: center;\n  }\n\n  #rocky-poweredby img {\n    margin-left: -10px;\n  }\n\n  #logos img {\n    vertical-align: top;\n  }\n  \n  /* Desktop  View Options */\n \n  @media (min-width: 768px)  {\n  \n    body {\n      padding: 10em 20% !important;\n    }\n    \n    .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6,\n    .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {\n      float: left;\n    }\n  \n    .col-md-1 {\n      width: 8.33%;\n    }\n    .col-md-2 {\n      width: 16.66%;\n    }\n    .col-md-3 {\n      width: 25%;\n    }\n    .col-md-4 {\n      width: 33%;\n    }\n    .col-md-5 {\n      width: 41.66%;\n    }\n    .col-md-6 {\n      border-left:3px ;\n      width: 50%;\n      \n\n    }\n    .col-md-7 {\n      width: 58.33%;\n    }\n    .col-md-8 {\n      width: 66.66%;\n    }\n    .col-md-9 {\n      width: 74.99%;\n    }\n    .col-md-10 {\n      width: 83.33%;\n    }\n    .col-md-11 {\n      width: 91.66%;\n    }\n    .col-md-12 {\n      width: 100%;\n    }\n  }\n  \n  /* Mobile View Options */\n  @media (max-width: 767px) {\n    .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n    .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n      float: left;\n    }\n  \n    .col-sm-1 {\n      width: 8.33%;\n    }\n    .col-sm-2 {\n      width: 16.66%;\n    }\n    .col-sm-3 {\n      width: 25%;\n    }\n    .col-sm-4 {\n      width: 33%;\n    }\n    .col-sm-5 {\n      width: 41.66%;\n    }\n    .col-sm-6 {\n      width: 50%;\n    }\n    .col-sm-7 {\n      width: 58.33%;\n    }\n    .col-sm-8 {\n      width: 66.66%;\n    }\n    .col-sm-9 {\n      width: 74.99%;\n    }\n    .col-sm-10 {\n      width: 83.33%;\n    }\n    .col-sm-11 {\n      width: 91.66%;\n    }\n    .col-sm-12 {\n      width: 100%;\n    }\n    h1 {\n      padding: 0 !important;\n    }\n  }\n        \n  \n  </style>\n  </head>\n  <body>\n    <h1>HTTP Server <strong>Test Page</strong></h1>\n\n    <div class='row'>\n    \n      <div class='col-sm-12 col-md-6 col-md-6 '></div>\n          <p class=\"summary\">This page is used to test the proper operation of\n            an HTTP server after it has been installed on a Rocky Linux system.\n            If you can read this page, it means that the software is working\n            correctly.</p>\n      </div>\n      \n      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>\n     \n       \n        <div class='section'>\n          <h2>Just visiting?</h2>\n\n          <p>This website you are visiting is either experiencing problems or\n          could be going through maintenance.</p>\n\n          <p>If you would like the let the administrators of this website know\n          that you've seen this page instead of the page you've expected, you\n          should send them an email. In general, mail sent to the name\n          \"webmaster\" and directed to the website's domain should reach the\n          appropriate person.</p>\n\n          <p>The most common email address to send to is:\n          <strong>\"webmaster@example.com\"</strong></p>\n    \n          <h2>Note:</h2>\n          <p>The Rocky Linux distribution is a stable and reproduceable platform\n          based on the sources of Red Hat Enterprise Linux (RHEL). With this in\n          mind, please understand that:\n\n        <ul>\n          <li>Neither the <strong>Rocky Linux Project</strong> nor the\n          <strong>Rocky Enterprise Software Foundation</strong> have anything to\n          do with this website or its content.</li>\n          <li>The Rocky Linux Project nor the <strong>RESF</strong> have\n          \"hacked\" this webserver: This test page is included with the\n          distribution.</li>\n        </ul>\n        <p>For more information about Rocky Linux, please visit the\n          <a href=\"https://rockylinux.org/\"><strong>Rocky Linux\n          website</strong></a>.\n        </p>\n        </div>\n      </div>\n      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>\n        <div class='section'>\n         \n          <h2>I am the admin, what do I do?</h2>\n\n        <p>You may now add content to the webroot directory for your\n        software.</p>\n\n        <p><strong>For systems using the\n        <a href=\"https://httpd.apache.org/\">Apache Webserver</strong></a>:\n        You can add content to the directory <code>/var/www/html/</code>.\n        Until you do so, people visiting your website will see this page. If\n        you would like this page to not be shown, follow the instructions in:\n        <code>/etc/httpd/conf.d/welcome.conf</code>.</p>\n\n        <p><strong>For systems using\n        <a href=\"https://nginx.org\">Nginx</strong></a>:\n        You can add your content in a location of your\n        choice and edit the <code>root</code> configuration directive\n        in <code>/etc/nginx/nginx.conf</code>.</p>\n        \n        <div id=\"logos\">\n          <a href=\"https://rockylinux.org/\" id=\"rocky-poweredby\"><img src=\"icons/poweredby.png\" alt=\"[ Powered by Rocky Linux ]\" /></a> <!-- Rocky -->\n          <img src=\"poweredby.png\" /> <!-- webserver -->\n        </div>       \n      </div>\n      </div>\n      \n      <footer class=\"col-sm-12\">\n      <a href=\"https://apache.org\">Apache&trade;</a> is a registered trademark of <a href=\"https://apache.org\">the Apache Software Foundation</a> in the United States and/or other countries.<br />\n      <a href=\"https://nginx.org\">NGINX&trade;</a> is a registered trademark of <a href=\"https://\">F5 Networks, Inc.</a>.\n      </footer>\n      \n  </body>\n</html>",
        "stdout_lines": [
            "<!doctype html>",
            "<html>",
            "  <head>",
            "    <meta charset='utf-8'>",
            "    <meta name='viewport' content='width=device-width, initial-scale=1'>",
            "    <title>HTTP Server Test Page powered by: Rocky Linux</title>",
            "    <style type=\"text/css\">",
            "      /*<![CDATA[*/",
            "      ",
            "      html {",
            "        height: 100%;",
            "        width: 100%;",
            "      }  ",
            "        body {",
            "  background: rgb(20,72,50);",
            "  background: -moz-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%)  ;",
            "  background: -webkit-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%) ;",
            "  background: linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%);",
            "  background-repeat: no-repeat;",
            "  background-attachment: fixed;",
            "  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#3c6eb4\",endColorstr=\"#3c95b4\",GradientType=1); ",
            "        color: white;",
            "        font-size: 0.9em;",
            "        font-weight: 400;",
            "        font-family: 'Montserrat', sans-serif;",
            "        margin: 0;",
            "        padding: 10em 6em 10em 6em;",
            "        box-sizing: border-box;      ",
            "        ",
            "      }",
            "",
            "   ",
            "  h1 {",
            "    text-align: center;",
            "    margin: 0;",
            "    padding: 0.6em 2em 0.4em;",
            "    color: #fff;",
            "    font-weight: bold;",
            "    font-family: 'Montserrat', sans-serif;",
            "    font-size: 2em;",
            "  }",
            "  h1 strong {",
            "    font-weight: bolder;",
            "    font-family: 'Montserrat', sans-serif;",
            "  }",
            "  h2 {",
            "    font-size: 1.5em;",
            "    font-weight:bold;",
            "  }",
            "  ",
            "  .title {",
            "    border: 1px solid black;",
            "    font-weight: bold;",
            "    position: relative;",
            "    float: right;",
            "    width: 150px;",
            "    text-align: center;",
            "    padding: 10px 0 10px 0;",
            "    margin-top: 0;",
            "  }",
            "  ",
            "  .description {",
            "    padding: 45px 10px 5px 10px;",
            "    clear: right;",
            "    padding: 15px;",
            "  }",
            "  ",
            "  .section {",
            "    padding-left: 3%;",
            "   margin-bottom: 10px;",
            "  }",
            "  ",
            "  img {",
            "  ",
            "    padding: 2px;",
            "    margin: 2px;",
            "  }",
            "  a:hover img {",
            "    padding: 2px;",
            "    margin: 2px;",
            "  }",
            "",
            "  :link {",
            "    color: rgb(199, 252, 77);",
            "    text-shadow:",
            "  }",
            "  :visited {",
            "    color: rgb(122, 206, 255);",
            "  }",
            "  a:hover {",
            "    color: rgb(16, 44, 122);",
            "  }",
            "  .row {",
            "    width: 100%;",
            "    padding: 0 10px 0 10px;",
            "  }",
            "  ",
            "  footer {",
            "    padding-top: 6em;",
            "    margin-bottom: 6em;",
            "    text-align: center;",
            "    font-size: xx-small;",
            "    overflow:hidden;",
            "    clear: both;",
            "  }",
            " ",
            "  .summary {",
            "    font-size: 140%;",
            "    text-align: center;",
            "  }",
            "",
            "  #rocky-poweredby img {",
            "    margin-left: -10px;",
            "  }",
            "",
            "  #logos img {",
            "    vertical-align: top;",
            "  }",
            "  ",
            "  /* Desktop  View Options */",
            " ",
            "  @media (min-width: 768px)  {",
            "  ",
            "    body {",
            "      padding: 10em 20% !important;",
            "    }",
            "    ",
            "    .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6,",
            "    .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {",
            "      float: left;",
            "    }",
            "  ",
            "    .col-md-1 {",
            "      width: 8.33%;",
            "    }",
            "    .col-md-2 {",
            "      width: 16.66%;",
            "    }",
            "    .col-md-3 {",
            "      width: 25%;",
            "    }",
            "    .col-md-4 {",
            "      width: 33%;",
            "    }",
            "    .col-md-5 {",
            "      width: 41.66%;",
            "    }",
            "    .col-md-6 {",
            "      border-left:3px ;",
            "      width: 50%;",
            "      ",
            "",
            "    }",
            "    .col-md-7 {",
            "      width: 58.33%;",
            "    }",
            "    .col-md-8 {",
            "      width: 66.66%;",
            "    }",
            "    .col-md-9 {",
            "      width: 74.99%;",
            "    }",
            "    .col-md-10 {",
            "      width: 83.33%;",
            "    }",
            "    .col-md-11 {",
            "      width: 91.66%;",
            "    }",
            "    .col-md-12 {",
            "      width: 100%;",
            "    }",
            "  }",
            "  ",
            "  /* Mobile View Options */",
            "  @media (max-width: 767px) {",
            "    .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,",
            "    .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {",
            "      float: left;",
            "    }",
            "  ",
            "    .col-sm-1 {",
            "      width: 8.33%;",
            "    }",
            "    .col-sm-2 {",
            "      width: 16.66%;",
            "    }",
            "    .col-sm-3 {",
            "      width: 25%;",
            "    }",
            "    .col-sm-4 {",
            "      width: 33%;",
            "    }",
            "    .col-sm-5 {",
            "      width: 41.66%;",
            "    }",
            "    .col-sm-6 {",
            "      width: 50%;",
            "    }",
            "    .col-sm-7 {",
            "      width: 58.33%;",
            "    }",
            "    .col-sm-8 {",
            "      width: 66.66%;",
            "    }",
            "    .col-sm-9 {",
            "      width: 74.99%;",
            "    }",
            "    .col-sm-10 {",
            "      width: 83.33%;",
            "    }",
            "    .col-sm-11 {",
            "      width: 91.66%;",
            "    }",
            "    .col-sm-12 {",
            "      width: 100%;",
            "    }",
            "    h1 {",
            "      padding: 0 !important;",
            "    }",
            "  }",
            "        ",
            "  ",
            "  </style>",
            "  </head>",
            "  <body>",
            "    <h1>HTTP Server <strong>Test Page</strong></h1>",
            "",
            "    <div class='row'>",
            "    ",
            "      <div class='col-sm-12 col-md-6 col-md-6 '></div>",
            "          <p class=\"summary\">This page is used to test the proper operation of",
            "            an HTTP server after it has been installed on a Rocky Linux system.",
            "            If you can read this page, it means that the software is working",
            "            correctly.</p>",
            "      </div>",
            "      ",
            "      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>",
            "     ",
            "       ",
            "        <div class='section'>",
            "          <h2>Just visiting?</h2>",
            "",
            "          <p>This website you are visiting is either experiencing problems or",
            "          could be going through maintenance.</p>",
            "",
            "          <p>If you would like the let the administrators of this website know",
            "          that you've seen this page instead of the page you've expected, you",
            "          should send them an email. In general, mail sent to the name",
            "          \"webmaster\" and directed to the website's domain should reach the",
            "          appropriate person.</p>",
            "",
            "          <p>The most common email address to send to is:",
            "          <strong>\"webmaster@example.com\"</strong></p>",
            "    ",
            "          <h2>Note:</h2>",
            "          <p>The Rocky Linux distribution is a stable and reproduceable platform",
            "          based on the sources of Red Hat Enterprise Linux (RHEL). With this in",
            "          mind, please understand that:",
            "",
            "        <ul>",
            "          <li>Neither the <strong>Rocky Linux Project</strong> nor the",
            "          <strong>Rocky Enterprise Software Foundation</strong> have anything to",
            "          do with this website or its content.</li>",
            "          <li>The Rocky Linux Project nor the <strong>RESF</strong> have",
            "          \"hacked\" this webserver: This test page is included with the",
            "          distribution.</li>",
            "        </ul>",
            "        <p>For more information about Rocky Linux, please visit the",
            "          <a href=\"https://rockylinux.org/\"><strong>Rocky Linux",
            "          website</strong></a>.",
            "        </p>",
            "        </div>",
            "      </div>",
            "      <div class='col-sm-12 col-md-6 col-md-6 col-md-offset-12'>",
            "        <div class='section'>",
            "         ",
            "          <h2>I am the admin, what do I do?</h2>",
            "",
            "        <p>You may now add content to the webroot directory for your",
            "        software.</p>",
            "",
            "        <p><strong>For systems using the",
            "        <a href=\"https://httpd.apache.org/\">Apache Webserver</strong></a>:",
            "        You can add content to the directory <code>/var/www/html/</code>.",
            "        Until you do so, people visiting your website will see this page. If",
            "        you would like this page to not be shown, follow the instructions in:",
            "        <code>/etc/httpd/conf.d/welcome.conf</code>.</p>",
            "",
            "        <p><strong>For systems using",
            "        <a href=\"https://nginx.org\">Nginx</strong></a>:",
            "        You can add your content in a location of your",
            "        choice and edit the <code>root</code> configuration directive",
            "        in <code>/etc/nginx/nginx.conf</code>.</p>",
            "        ",
            "        <div id=\"logos\">",
            "          <a href=\"https://rockylinux.org/\" id=\"rocky-poweredby\"><img src=\"icons/poweredby.png\" alt=\"[ Powered by Rocky Linux ]\" /></a> <!-- Rocky -->",
            "          <img src=\"poweredby.png\" /> <!-- webserver -->",
            "        </div>       ",
            "      </div>",
            "      </div>",
            "      ",
            "      <footer class=\"col-sm-12\">",
            "      <a href=\"https://apache.org\">Apache&trade;</a> is a registered trademark of <a href=\"https://apache.org\">the Apache Software Foundation</a> in the United States and/or other countries.<br />",
            "      <a href=\"https://nginx.org\">NGINX&trade;</a> is a registered trademark of <a href=\"https://\">F5 Networks, Inc.</a>.",
            "      </footer>",
            "      ",
            "  </body>",
            "</html>"
        ]
    }
}

TASK [Start nginx web server in ansible Rocky nodes] ***************************
skipping: [ubuntu1]
skipping: [ubuntu2]
skipping: [rocky1]
skipping: [rocky2]

TASK [Create custom web root folder] *******************************************
ok: [ubuntu2]
ok: [rocky1]
ok: [ubuntu1]
ok: [rocky2]

TASK [Configure nginx server to use our custom web root folder] ****************
ok: [ubuntu2]
ok: [ubuntu1]
fatal: [rocky2]: FAILED! => {"changed": false, "checksum": "8a1cb2e0d965aa57cd888b7f231b814f592886f9", "msg": "Destination directory /etc/nginx/sites-available does not exist"}
fatal: [rocky1]: FAILED! => {"changed": false, "checksum": "8a1cb2e0d965aa57cd888b7f231b814f592886f9", "msg": "Destination directory /etc/nginx/sites-available does not exist"}

TASK [Restart nginx web server to apply config chantes] ************************
changed: [ubuntu2]
changed: [ubuntu1]

TASK [Deploy custom web page] **************************************************
ok: [ubuntu1]
ok: [ubuntu2]

PLAY RECAP *********************************************************************
rocky1                     : ok=5    changed=1    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   
rocky2                     : ok=5    changed=1    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   
ubuntu1                    : ok=8    changed=1    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
ubuntu2                    : ok=8    changed=1    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   

